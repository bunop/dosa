<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Dosa by shon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Dosa</h1>
      <h2 class="project-tagline">Python wrapper for Digital Ocean API V2</h2>
      <a href="https://github.com/shon/dosa" class="btn">View on GitHub</a>
      <a href="https://github.com/shon/dosa/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/shon/dosa/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p>Python wrapper for Digital Ocean <a href="https://developers.digitalocean.com">API
V2</a>.</p>

<p><a href="http://badge.fury.io/py/dosa"><img src="https://badge.fury.io/py/dosa.svg" alt="Latest
Version"></a></p>

<p><a href="https://crate.io/packages/dosa/"><img src="https://pypip.in/d/dosa/badge.png" alt="Number of PyPI
downloads"></a></p>

<h1>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h1>

<pre lang="sourceCode"><code>pip install dosa
</code></pre>

<h1>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h1>

<pre lang="sourceCode"><code>import dosa

API_KEY = 'Your API Key'
dosa.set_debug()  # enables debug logs

client = dosa.Client(api_key=API_KEY)

# Droplets
client.droplets.list()
status, result = client.droplets.create(name='terminator', region='nyc2',\
    size='512mb', image='ubuntu-14-04-x32', ssh_keys=[12345])
new_droplet_id = result['id']

# Droplet
new_droplet = client.Droplet(new_droplet_id)
print(new_droplet.info())
## shortcuts
new_droplet.status()
new_droplet.ip_addresses()
client.droplets.delete(new_droplet_id)

# SSH Keys
pub_key = open('~/.ssh/id_rsa.pub').read()
client.keys.create(name='RSA key', public_key=pub_key)
client.keys.list()

# Images
client.images.list()
client.images.all()
client.images.search('ubuntu', 'sgp1', show_op=True)

# Domains
client.domains.list()
client.domains.all()
client.domains.create(name='example.com', ip_address='1.2.3.4')
client.domains.delete(id='example.com')

### Get specific domain
domain = client.Domain(domain='example.com')
domain.info()

# Domain Records
dr = client.DomainRecords(domain='example.com')
dr.list()
dr.create(type='A', name='example.com', data='162.10.66.0')

### Get specific domain record for a domain
record = dr.Record(record_id='7976006')
record.info()
record.update(name='new.example.com')

# Extras
# $ ls keys/
# rsa_pub1.id  rsa_pub2.key  rsa_pub3.key
keys_dir = 'keys'
client.sync_ssh_keys(keys_dir)
</code></pre>

<h1>
<a id="notes" class="anchor" href="#notes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notes</h1>

<p>Image search:</p>

<pre><code>&gt;&gt;&gt; client.images.search('ubuntu', region='sgp1', show_op=True)
</code></pre>

<p>Above code snippets searches for images containing ubuntu in description
or slug. Since region is specified (sgp1), only images in sgp1 region
would be considered. If no region is specified all regions are included.</p>

<h1>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h1>

<p>Created while working on <a href="http://scroll.in">Scroll.in</a>'s project.</p>

<h1>
<a id="dosa" class="anchor" href="#dosa" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dosa?</h1>

<p><a href="http://commons.wikimedia.org/wiki/File:Paper_Masala_Dosa.jpg#mediaviewer/File:Paper_Masala_Dosa.jpg"><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Paper_Masala_Dosa.jpg/640px-Paper_Masala_Dosa.jpg" alt='"Paper Masala Dosa" by SteveR- -
&lt;http://www.flickr.com/photos/git/3936135033/&gt;. Licensed under Creative
Commons Attribution 2.0 via Wikimedia
Commons'></a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/shon/dosa">Dosa</a> is maintained by <a href="https://github.com/shon">shon</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-51914996-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
